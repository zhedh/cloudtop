var CloudtopUtils=function(e){"use strict";var t=(e=>(e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE",e))(t||{});const n=(e,t,n)=>new Promise(((r,o)=>{try{const o=new XMLHttpRequest;o.open(e,t),"POST"===e?(o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(new URLSearchParams(n))):(o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.send()),o.onreadystatechange=()=>{o.readyState===XMLHttpRequest.DONE&&200===o.status?r(JSON.parse(o.response)):new Error(o.response)}}catch(e){o(e)}}));return e.MethodTypes=t,e.countBytes=function(e){return(new TextEncoder).encode(e).length},e.formatDate=(e="Y-M-D h:m:s",t=Date.now())=>{const n=new Date(t||Date.now()),r={Y:`${n.getFullYear()}`,M:`${n.getMonth()+1}`,D:`${n.getDate()}`,h:n.getHours(),m:n.getMinutes(),s:n.getSeconds()},o=e=>e>=10?e:"0"+e;return(e||"Y-M-D h:m:s").replace("Y",r.Y).replace("M",r.M).replace("D",r.D).replace("h",o(r.h)).replace("m",o(r.m)).replace("s",o(r.s))},e.formatDecimal=function(e,t){if(!e)return e;let n=e.toString();const r=n.indexOf(".");return n=-1!==r?n.substring(0,t+r+1):n.substring(0),parseFloat(n)},e.generateUUID=()=>{let e=+new Date;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))},e.replaceOld=function(e,t,n,r){if(void 0!==e&&(t in e||r)){const r=n(e[t]);"function"==typeof r&&(e[t]=r)}},e.sendBeacon=(e,t)=>navigator.sendBeacon(e,JSON.stringify(t)),e.sendFromGet=(e,t)=>n("GET",e,t),e.sendFromImg=(e,t)=>{let n=new Image;const r=-1===e.indexOf("?")?"?":"&";n.src=`${e}${r}data=${encodeURIComponent(JSON.stringify(t))}`,n=null},e.sendFromPost=(e,t)=>n("POST",e,t),e.splitStringByBytes=function(e,t){const n=(new TextEncoder).encode(e),r=new TextDecoder,o=[];let s=0;for(;s<n.length;){let e=s+t;for(;e>s&&128==(192&n[e]);)e--;o.push(r.decode(n.subarray(s,e))),s=e}return o},e.throttle=function(e,t){let n=!0;return function(...r){n&&(e.apply(this,r),n=!1,setTimeout((()=>{n=!0}),t))}},e}({});
